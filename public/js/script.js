(()=>{"use strict";document.getElementById("hamburgerMenu").addEventListener("click",(function(){document.getElementById("navMenu").classList.toggle("active")})),new Splide(".splide",{type:"loop",gap:60,pagination:!0,arrows:!1,perPage:3,perMove:1,autoplay:!0,interval:6e3,speed:"500",easing:"ease",breakpoints:{991:{perPage:1}}}).mount(),$(document).ready((function(){var e=$("form");if(e.length>0){e.append('<div style="opacity: 0; height: 0; overflow: hidden;">            <label for="country_code">Extension Phone Number</label>            <input id="country_code" type="text" class="extension-input" name="country_code" value="">        </div>')}var t=fetch("https://api.ipgeolocation.io/ipgeo?apiKey=55e4b1ac2c0b4e05ad22deb513fe9bcd").then((function(e){if(429===e.status)throw console.warn("Received 429 status code from primary API"),new Error("Rate limit exceeded");return e.json()})).catch((function(e){throw console.error("Error fetching geolocation data from primary API:",e),e})).catch((function(){return fetch("https://ipapi.co/json/").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).catch((function(e){throw console.error("Error fetching geolocation data from fallback API:",e),e}))}));$(".phone-number-extension").each((function(){var e,o=this,n=window.intlTelInput(o,{initialCountry:"auto",separateDialCode:!0});t.then((function(e){e.country_code2?(n.setCountry(e.country_code2.toUpperCase()),$(o).closest("form").find(".extension-input").attr("value",e.calling_code)):e.country?(n.setCountry(e.country.toUpperCase()),$(o).closest("form").find(".extension-input").attr("value",e.country_calling_code)):(console.log(e),console.warn("Unable to determine country code from API response."))})).catch((function(e){console.error("Error fetching geolocation data:",e)})),$(o).on("countrychange",(function(){console.log("The user changed the selected country"),e=$(this).siblings(".iti__flag-container").find(".iti__selected-flag").attr("title"),$(this).val(""),$(this).attr("data-country-code",e);var t=$(this).closest("form");t.find(".extension-input").length&&t.find(".extension-input").attr("value",e)}))})),$(window).on("scroll",(function(){$(window).width()<768&&$(this).scrollTop()>120?$("#top-header").addClass("sticky"):$("#top-header").removeClass("sticky")}));var o=window.location.href;-1!==o.indexOf("/campaign")&&(document.title="Investment Visa - Residency and Citizenship"),-1!==o.indexOf("/thankyou")&&(document.title="Before you leave..."),$("#campaign-form.thank-you-form").insertBefore("#footer-thank-you").addClass("col-12"),$(".address-block").html((function(e,t){return t.replace("Terms & Conditions | Privacy Policy",'<a href="https://www.investmentvisa.com/privacy-policy" target="_blank">Terms & Conditions</a> | <a href="https://www.investmentvisa.com/privacy-policy" target="_blank">Privacy Policy</a>')}))})),$(document).ready((function(){var e=["free visa","jobless","work parmit","work permit","uber","need job","need a job","job","jobs","encountered an error","unsubscribe","marketing emails","language settings","unable to access my account","sponsor visa","sponsorship visa","tourist visa","work visa","fuck","shit","sshit"];$("textarea").on("input",(function(){var t=$(this).val(),o=!1;$.each(e,(function(e,n){var a=new RegExp("\\b"+n+"\\b","gi");a.test(t)&&(o=!0,alert("You have written '"+n+"' Investment Visa does not offer services in regard to '"+n+"'."),t=t.replace(a,""))})),o&&$("textarea").val(t)}))})),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),document.addEventListener("DOMContentLoaded",(function(){document.referrer})),document.querySelectorAll('a[href^="#"]').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("href");if("#"!==t){var o=document.querySelector(t);o&&o.scrollIntoView({behavior:"smooth"})}}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("scrollToTopBtn");window.onscroll=function(){document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"},e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))})),$(window).on("scroll",(function(){var e=$(this).scrollTop();e>=100&&$("#top-header").addClass("active"),e>=600?$(".right-button-scroll").fadeIn().addClass("active"):($(".right-button-scroll").hide().removeClass("active"),$("#hidden-form").removeClass("active"),$("#top-header").removeClass("active"))})),$(document).ready((function(){$(".nav-menu a").on("click",(function(e){e.preventDefault(),$(".nav-menu").removeClass("active")})),$("#top-menu .container-fluid").removeClass("container-fluid").addClass("container");var e=$('<div class="col-12"></div>');$(".footer-iv").wrapInner(e),$(".right-button-scroll").on("click",(function(e){e.preventDefault(),$("#hidden-form").addClass("active")})),$(".enquire-button").on("click",(function(e){e.preventDefault(),$("#hidden-form").addClass("active")})),$(".meeting-button").on("click",(function(e){e.preventDefault(),$("#hidden-form").addClass("active")}))})),$(document).ready((function(){$("a.btn-close-form").on("click",(function(e){$("#hidden-form").removeClass("active")})),$(".video-mask, .header-mask").wrapAll('<div class="video-wrapper"></div>'),$(window).width()<767?($(".right-button-scroll").on("click",(function(e){e.preventDefault(),$("#hidden-form").addClass("active")})),$("body").addClass("mobile"),$(".header-mask").attr("src","/images/headermask-mobile.png").appendTo(".video-container"),$("#cards-row .card-container").removeClass("col-12").addClass("col-6"),$(".bottom-cards .card-container").removeClass("col-12").addClass("col-6"),$("#cards-row .card-container").slice(0,2).wrapAll('<div class="row"></div>'),$("#cards-row .card-container").slice(-2).wrapAll('<div class="row"></div>'),$(".bottom-cards .card-container").wrapAll('<div class="bottom-cards-inner row"></div>'),$(".title-bottom").insertAfter(".img-bottom"),$(".title-left").insertAfter(".img-left")):($("body").removeClass("mobile"),$(".header-mask").attr("src","/images/headermask.png"),$("#navbar").removeClass("col-sm-8").addClass("col-sm-12"),$("#cards-row .card-container").removeClass("col-6").addClass("col-12"),$(".title-bottom").insertBefore(".img-bottom"),$(".title-left").insertBefore(".img-left")),$(".navbar-toggler").on("click",(function(){$("#navbar").toggleClass("show")})),$(".top-video-block").wrap("<div class='video-container'></div>");window.location.href;var e=window.location.pathname;$("body").addClass(e.replace(/\//g,"page-"));var t=$('<div id="campaign-info" class="alert alert-warning alert-dismissible fade show mx-auto position-fixed" role="alert"><a class="btn-close" data-dismiss="alert" aria-label="Close"></a>You have selected <b>\'Work Visa\'</b><br>Investment Visa does not offer services in regards to Work Visas.</div>');$(".enquiry_subject").on("change",(function(){"Work visa"===$(this).val()?($(".form-send-bt").prop("disabled",!0),t.prependTo(".video-wrapper").show(),$(".alert").addClass("show")):($(".form-send-bt").prop("disabled",!1),$(".alert").removeClass("show").hide())})),$("input#phone").on("keypress keyup blur",(function(e){var t=/[^0-9+()-]/.test($(this).val());if($(this).val($(this).val().replace(/[^0-9+()-]/g,"")),console.log("tel"),t){$(this).addClass("error");$('<div class="alert alert-danger error-message m-0 p-1 px-2 small" role="alert"><span class="small">No Letters Allowed.</span></div>').insertAfter(this)}else $(this).removeClass("error"),$(".error-message").hide().css("display","none")}))})),$("#campaign-form").on("submit",(function(e){e.preventDefault();var t=$(this).serialize(),o=$(this),n=o.find("button[type=submit]");n.length>0&&n.html('Submitting... <span id="spinner"><svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve" width="20px" height="20px"><path fill="#fff" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite" /></path></svg></span>'),n.prop("disabled",!0),$.ajax({url:"/form-submission",type:"POST",data:t,success:function(e){e?(console.log("success: "+e),Toastify({text:"Thank you for your enquiry. We'll be in contact, shortly",duration:5e3,gravity:"top",position:"center",backgroundColor:"#6A257A"}).showToast()):console.log("error: "+e)},error:function(e,t,o){console.log("RESPONSE: , error: "+o)},complete:function(){n.html("Submit"),n.prop("disabled",!1),o[0].reset(),"#debug"!==window.location.hash&&(window.location.href="/thank-you")}})}));var e=new URLSearchParams(window.location.search);function t(e,t){null!==t&&""!==t&&$("<input>").attr({type:"hidden",name:e,value:t}).appendTo("#campaign-form")}t("utm_source",e.get("utm_source")),t("utm_medium",e.get("utm_medium")),t("utm_campaign",e.get("utm_campaign")),t("utm_term",e.get("utm_term")),t("utm_content",e.get("utm_content"))})();
//# sourceMappingURL=script.js.map